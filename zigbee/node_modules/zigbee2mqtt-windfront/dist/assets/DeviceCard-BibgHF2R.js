import{r as f,b as j,j as s,L as u,F as h,aV as w}from"./index-B9KSRkAy.js";import{F as N,g as y}from"./Feature-DRiBEd30.js";import{L}from"./LastSeen-kmLjgf_4.js";import{L as F}from"./Lqi-BZ7lW9bx.js";import{P as _}from"./PowerSource-DgbKMgpx.js";import{D as $}from"./DeviceImage-XiUg0NFS.js";const E=f.memo(({onChange:n,onRead:i,device:e,endpoint:t,deviceState:a,lastSeenConfig:p,features:m,featureWrapperClass:c,children:g})=>{const{t:r}=j(["zigbee","devicePage"]),o=t!=null?e.endpoints[t].name:void 0,b=f.useMemo(()=>{const d=[];for(const l of m){const x=t!=null&&!!l.endpoint;(!x||Number(l.endpoint)===t||l.endpoint===o)&&d.push(s.jsx(N,{feature:l,device:e,deviceState:a,onChange:n,onRead:i,featureWrapperClass:c,minimal:!0,parentFeatures:[],endpointSpecific:x},y(l)))}return d},[o,e,t,a,m,c,n,i]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card-body p-2",children:[s.jsxs("div",{className:"flex flex-row items-center gap-3 w-full",children:[s.jsx("div",{className:"flex-none h-11 w-11 overflow-visible",children:s.jsx($,{disabled:!1,device:e,otaState:a.update?.state})}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs(u,{to:`/device/${e.ieee_address}/info`,className:"link link-hover",children:[e.friendly_name,t!=null?` (${r("endpoint")}: ${o?`${o} / `:""}${t})`:""]}),e.description&&s.jsx("div",{className:"text-xs opacity-50 truncate",title:e.description,children:e.description})]})]}),s.jsxs("div",{className:"text-sm w-full p-2",children:[b,s.jsxs("div",{className:"flex flex-row items-center gap-1 mt-3",children:[s.jsx("div",{className:"grow-1"}),s.jsxs(u,{to:`/device/${e.ieee_address}/exposes`,className:"btn btn-xs",children:[r("devicePage:exposes")," ",s.jsx(h,{icon:w,size:"lg"})]})]})]})]}),s.jsxs("div",{className:"flex flex-row flex-wrap gap-1 mx-2 mb-2 justify-around items-center",children:[s.jsx("span",{className:"badge badge-soft badge-ghost cursor-default",title:r("last_seen"),children:s.jsx(L,{lastSeen:a.last_seen,config:p})}),s.jsx("span",{className:"badge badge-soft badge-ghost cursor-default",title:r("lqi"),children:s.jsx(F,{value:a.linkquality})}),s.jsx("span",{className:"badge badge-soft badge-ghost cursor-default",title:r("power"),children:s.jsx(_,{device:e,batteryPercent:a.battery,batteryState:a.battery_state,batteryLow:a.battery_low,showLevel:!0})}),g]})]})});export{E as D};
